(function(t){function e(e){for(var s,c,o=e[0],r=e[1],l=e[2],d=0,h=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&h.push(n[c][0]),n[c]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,o=1;o<i.length;o++){var r=i[o];0!==n[r]&&(s=!1)}s&&(a.splice(e--,1),t=c(c.s=i[0]))}return t}var s={},n={app:0},a=[];function c(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=s,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(i,s,function(e){return t[e]}.bind(null,s));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=r;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"11a9":function(t,e,i){},2638:function(t,e,i){"use strict";i("7c8a")},"2f5a":function(t,e,i){},"371b":function(t,e,i){"use strict";i("4dd6")},"4aa5":function(t,e,i){"use strict";i("2f5a")},"4dd6":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s,n,a=i("2b0e"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"left"},t._l(t.lists,(function(t,e){return i("list",{key:e,attrs:{list:t,id:e}})})),1),i("dashboard")],1)},o=[],r=i("5530"),l=(i("4d90"),i("d3b7"),i("25f0"),i("2f62")),u=i("ade3"),d={data:null,active:null},h={setLists:"[list] Set lists",setList:"[list] Set list",setItem:"[list] Set item",setActive:"[list] Set active list"},m={setLists:"[list] Set lists",setList:"[list] Set list",setItem:"[list] Set item",setActive:"[list] Set active list"},f=(s={},Object(u["a"])(s,h.setLists,(function(t,e){t.data=e.lists})),Object(u["a"])(s,h.setList,(function(t,e){t.data[e.list.id]=e.list})),Object(u["a"])(s,h.setItem,(function(t,e){t.data[e.list.id].items[e.item.id]=e.item})),Object(u["a"])(s,h.setActive,(function(t,e){t.active=e.id})),s),p=(n={},Object(u["a"])(n,m.setLists,(function(t,e){var i=e.lists;t.commit(h.setLists,{lists:i})})),Object(u["a"])(n,m.setList,(function(t,e){var i=e.list;t.commit(h.setList,{list:i})})),Object(u["a"])(n,m.setItem,(function(t,e){var i=e.list,s=e.item;t.commit(h.setItem,{list:i,item:s})})),Object(u["a"])(n,m.setActive,(function(t,e){var i=e.id;t.commit(h.setActive,{id:i})})),n),v={state:d,actions:p,mutations:f},b=function(t){t.sort((function(){return Math.random()-.5}))},k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("arrow",{attrs:{"list-id":t.list.id}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.listChecked,expression:"listChecked"}],attrs:{id:"list-"+t.list.id,type:"checkbox"},domProps:{checked:Array.isArray(t.listChecked)?t._i(t.listChecked,null)>-1:t.listChecked},on:{input:t.check,change:function(e){var i=t.listChecked,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=null,c=t._i(i,a);s.checked?c<0&&(t.listChecked=i.concat([a])):c>-1&&(t.listChecked=i.slice(0,c).concat(i.slice(c+1)))}else t.listChecked=n}}}),i("label",{attrs:{for:"list-"+t.list.id}},[t._v("List "+t._s(t.list.id))])],1),t.isActive?i("div",{staticClass:"items-container"},[i("ul",t._l(t.list.items,(function(e,s){return i("item",{key:s,attrs:{item:e,"list-checked":t.list.checked}})})),1)]):t._e()])},g=[],C=(i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("div",{staticClass:"item-left"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemData.checked,expression:"itemData.checked"}],attrs:{id:"item-"+t.itemData.id,type:"checkbox"},domProps:{checked:Array.isArray(t.itemData.checked)?t._i(t.itemData.checked,null)>-1:t.itemData.checked},on:{change:[function(e){var i=t.itemData.checked,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=null,c=t._i(i,a);s.checked?c<0&&t.$set(t.itemData,"checked",i.concat([a])):c>-1&&t.$set(t.itemData,"checked",i.slice(0,c).concat(i.slice(c+1)))}else t.$set(t.itemData,"checked",n)},t.check]}}),i("label",{attrs:{for:"item-"+t.itemData.id}},[t._v("Item "+t._s(t.itemData.id))])]),i("div",{staticClass:"item-right"},[t.isCountChange?i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemData.count,expression:"itemData.count"}],attrs:{type:"number"},domProps:{value:t.itemData.count},on:{change:t.saveCount,blur:function(e){t.isCountChange=!1},input:function(e){e.target.composing||t.$set(t.itemData,"count",e.target.value)}}}):i("span",{on:{click:t.initCountChange}},[t._v(" "+t._s(t.itemData.count)+" ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.itemData.color,expression:"itemData.color"}],attrs:{type:"color"},domProps:{value:t.itemData.color},on:{change:t.saveColor,input:function(e){e.target.composing||t.$set(t.itemData,"color",e.target.value)}}})])])}),y=[],O={name:"Item",props:{item:{type:Object,required:!0},listChecked:{type:Boolean}},data:function(){return{initialCount:this.item.count,isCountChange:!1,itemData:this.item}},methods:{initCountChange:function(){this.isCountChange=!0},saveCount:function(){var t=this.$parent.list,e=this.itemData;if(e.count>this.initialCount){var i=e.count-this.initialCount;console.log("newItemsCount"),console.log(i);for(var s=0;s!=i;s++)t.shuffledItems.push(e.id),t.sortedItems.push(e.id);b(t.shuffledItems),t.sortedItems.sort()}this.$store.dispatch(m.setItem,{list:t,item:e})},saveColor:function(){var t=this.$parent.list,e=this.itemData;this.$store.dispatch(m.setItem,{list:t,item:e})},check:function(){var t=this.$parent.list;this.$store.dispatch(m.setItem,{list:t,item:this.itemData})}}},I=O,_=(i("9894"),i("2877")),j=Object(_["a"])(I,C,y,!1,null,null,null),w=j.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:["arrow",{active:t.isActive}],on:{click:t.toggle}},[i("svg",{staticStyle:{"enable-background":"new 0 0 492.004 492.004"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 492.004 492.004","xml:space":"preserve"}},[i("g",[i("g",[i("path",{attrs:{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12\n\t\t\tc-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028\n\t\t\tc0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265\n\t\t\tc5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"}})])])])])},x=[],A={name:"Arrow",props:["listId"],computed:Object(r["a"])({},Object(l["b"])({active:function(t){return t.list.active},isActive:function(t){return t.list.active===this.listId}})),methods:{toggle:function(){var t=null;t=this.active===this.listId?null:this.listId,this.$store.dispatch(m.setActive,{id:t})}}},L=A,S=(i("2638"),Object(_["a"])(L,D,x,!1,null,"df768384",null)),$=S.exports,M={name:"List",components:{Item:w,Arrow:$},props:{list:{type:Object,required:!0}},data:function(){return{listChecked:!1}},computed:Object(r["a"])({},Object(l["b"])({isActive:function(t){return t.list.active===this.list.id},isSmthChecked:function(t){var e=!1;return t.list.data[this.list.id].items.map((function(t){t.checked&&(e=!0)})),e},isAllchecked:function(t){var e=!0;return t.list.data[this.list.id].items.map((function(t){t.checked||(e=!1)})),e},isChecked:function(t){var e=t.list.data[this.list.id],i=!1;return e.items.map((function(t){t.checked&&(i=!0)})),!i&&e.checked&&(i=!0),i}})),updated:function(){this.listChecked=this.isChecked},methods:{check:function(){var t=this.list;(!this.isSmthChecked||t.checked||this.isAllchecked)&&this.isAllchecked&&this.isChecked?(t.checked=!1,t.items=t.items.map((function(t){return t.checked=!1,t}))):(t.checked=!0,t.items=t.items.map((function(t){return t.checked=!0,t}))),this.$store.dispatch(m.setList,{list:t})}}},P=M,E=(i("fe44"),Object(_["a"])(P,k,g,!1,null,"a12cef94",null)),N=E.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right"},t._l(t.lists,(function(t,e){return i("dashboard-list",{key:e,attrs:{list:t,id:e}})})),1)},B=[],F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-wrapper"},[i("p",[t._v("List "+t._s(t.list.id))]),t.isActive?i("div",[i("button",{on:{click:t.changeShuffle}},[t._v(" "+t._s(t.shuffle?"сортировать":"перемешать")+" ")]),i("ul",[t._l(t.itemsIds,(function(e,s){return i("dashboard-colored-item-value",{key:s,attrs:{list:t.list,item:e,offset:s,"is-shuffled":t.shuffle,"is-last":t.itemsIds[s]==t.itemsIds[s-1]||0==s}})})),i("div",{staticStyle:{clear:"both"}})],2)]):t._e()])},R=[],T=(i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{appear:"",name:"list-color"}},[t.itemComputed.checked?i("div",{key:1,class:["item-color","sort",{break:!t.isLast&&!t.isShuffled}],style:"background-color: "+t.itemComputed.color+";",on:{click:t.deleteItem}}):t._e()])}),J=[],V=(i("a9e3"),i("a434"),{name:"DashboardColoredItemValue",props:{item:{type:Number,required:!0},list:{type:Object,required:!0},offset:{type:Number},isShuffled:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1}},computed:Object(r["a"])({},Object(l["b"])({itemComputed:function(t){return t.list.data[this.list.id].items[this.item]}})),mounted:function(){this.item.isFirst&&console.log("first")},methods:{deleteItem:function(){var t=this.list,e=this.itemComputed;if(0!=e.count){var i=this.list.shuffledItems.indexOf(this.item,this.offset),s=this.list.sortedItems.indexOf(this.item);this.list.shuffledItems.splice(i,1),this.list.sortedItems.splice(s,1),e.count=e.count-1,t.items[this.item]=e,this.$store.dispatch(m.setList,{list:t,item:e})}}}}),z=V,G=(i("4aa5"),Object(_["a"])(z,T,J,!1,null,"7ebb3816",null)),H=G.exports,K={name:"DashboardList",components:{DashboardColoredItemValue:H},props:{list:{type:Object,required:!0}},data:function(){return{shuffle:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(l["b"])({isActive:function(t){return t.list.active===this.list.id},itemsIds:function(t){var e=[];return e=this.shuffle?t.list.data[this.list.id].shuffledItems:t.list.data[this.list.id].sortedItems,e}})),{},{shuffled:function(){var t=this,e=[];return this.list.shuffledItems.forEach((function(i){e.push(t.list.items[i])})),e}}),methods:{changeShuffle:function(){this.shuffle=!this.shuffle}}},Q=K,U=(i("371b"),Object(_["a"])(Q,F,R,!1,null,"ea16ed92",null)),W=U.exports,X={name:"Dashboard",components:{DashboardList:W},computed:Object(r["a"])({},Object(l["b"])({lists:function(t){return t.list.data}}))},Y=X,Z=(i("a91f"),Object(_["a"])(Y,q,B,!1,null,"eec9f086",null)),tt=Z.exports,et={name:"App",components:{List:N,Dashboard:tt},data:function(){return{}},computed:Object(r["a"])({},Object(l["b"])({lists:function(t){return t.list.data}})),mounted:function(){for(var t=[],e=0;5!=e;e++){for(var i={id:e,items:[],checked:!1,shuffledItems:[],sortedItems:[]},s=this.getRandomInt(5,10),n=0;n!=s;n++){for(var a={id:n,count:this.getRandomInt(5,10),color:"#".concat(this.randomColor()),checked:!1,isFirst:!1},c=0;c!=a.count;c++)a.isFirst=0==c,i.shuffledItems.push(a.id),i.sortedItems.push(a.id);i.items.push(a)}b(i.shuffledItems),t.push(i)}this.$store.dispatch(m.setLists,{lists:t})},methods:{getRandomInt:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},randomColor:function(){return Math.floor(Math.random()*Math.pow(2,24)).toString(16).padStart(6,0)}}},it=et,st=(i("034f"),Object(_["a"])(it,c,o,!1,null,null,null)),nt=st.exports;a["a"].use(l["a"]);var at=new l["a"].Store({state:{},mutations:{},actions:{},modules:{list:v}});a["a"].config.productionTip=!1,new a["a"]({store:at,render:function(t){return t(nt)}}).$mount("#app")},"7c8a":function(t,e,i){},"85ec":function(t,e,i){},9894:function(t,e,i){"use strict";i("d434")},a91f:function(t,e,i){"use strict";i("11a9")},d434:function(t,e,i){},eb27:function(t,e,i){},fe44:function(t,e,i){"use strict";i("eb27")}});
//# sourceMappingURL=app.96b2d056.js.map